<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>For My Love ‚ù§Ô∏è</title>
<style>
:root{
  --bg1:#fff5f7; --bg2:#ffeef8; --accent:#ff6b93;
  --card:#ffffffcc; --glass:rgba(255,255,255,0.6);
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  margin:0; min-height:100vh;
  display:flex; align-items:center; justify-content:center;
  background:radial-gradient(circle at 10% 10%,#fff0f6 0%,#fff5f7 30%,#fff8fb 60%),linear-gradient(135deg,#ffeef8 0%,#fffaf0 100%);
  overflow-x:hidden;
  font-size:16px;
}

/* floating hearts */
.hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:0;}
.heart{position:absolute;width:18px;height:18px;transform:rotate(-45deg);opacity:0.85;animation:floatUp linear infinite;}
.heart:before,.heart:after{content:"";position:absolute;width:18px;height:18px;border-radius:50%;background:linear-gradient(135deg,var(--accent),#ff9db2);}
.heart:before{top:-9px;left:0;}
.heart:after{left:9px;top:0;}
@keyframes floatUp{from{transform:translateY(70vh) scale(.6) rotate(-45deg);opacity:0;}10%{opacity:.9;}to{transform:translateY(-40vh) scale(1.1) rotate(-45deg);opacity:0;}}

/* main card */
.card{
  position:relative; z-index:2; width:94vw; max-width:480px; border-radius:18px; padding:22px;
  background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(255,255,255,0.85));
  box-shadow:0 10px 30px rgba(0,0,0,0.12);
}
h1{margin:0 0 10px 0;font-size:1.5rem;letter-spacing:0.2px;color:#222;text-align:center;}
p.lead{margin:0 0 14px 0;color:#444;line-height:1.45;text-align:center;}
.open-btn{
  display:block; margin:0 auto; background:linear-gradient(90deg,var(--accent),#ff9db2);
  color:white;border:none;padding:12px 18px;border-radius:12px;
  font-weight:600;font-size:1rem;cursor:pointer;
  box-shadow:0 8px 20px rgba(255,107,147,0.18);
}
.open-btn:focus{outline:3px solid rgba(255,107,147,0.18);}

.messageBox{
  margin-top:14px;padding:16px;border-radius:12px;
  background:var(--card);min-height:130px;
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.6);
  overflow:hidden;position:relative;display:none;
}
.typed{
  white-space:pre-wrap;font-size:1rem;color:#2b2b2b;
  line-height:1.55;opacity:0;transition:opacity 0.6s ease;
}
.small{font-size:.8rem;color:#666;margin-top:10px;text-align:center;}

/* photo section */
.photoSection{
  margin-top:20px;display:flex;flex-direction:column;
  align-items:center;gap:10px;text-align:center;
}
.photoSection h3{
  margin:5px 0 8px 0;font-size:1.1rem;color:#ff6b93;
  font-weight:600;letter-spacing:0.5px;
}
.photoCard{
  width:100%;max-width:100%;border-radius:12px;
  overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,0.08);
  cursor:pointer;transition:transform .3s ease;
}
.photoCard:hover{transform:scale(1.02);}
.photoCard img{width:100%;height:auto;max-height:250px;object-fit:cover;display:block;transition:opacity 0.8s ease, transform 0.8s ease;}
.thumbs{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;}
.thumbs img{
  width:48px;height:48px;object-fit:cover;border-radius:8px;
  cursor:pointer;border:2px solid transparent;transition: transform .3s ease, border-color .3s ease;
}
.thumbs img.active{border-color:var(--accent);transform:scale(1.05);}

/* lightbox */
.lightbox{
  position:fixed;inset:0;background:rgba(0,0,0,0.85);
  display:flex;align-items:center;justify-content:center;
  z-index:999;visibility:hidden;opacity:0;transition:opacity .3s ease;
}
.lightbox.active{visibility:visible;opacity:1;}
.lightbox img{
  max-width:90%;max-height:90%;border-radius:12px;
  box-shadow:0 0 20px rgba(255,255,255,0.2);
}

/* popup question lightbox fixed at bottom */
.questionLightbox{
  position:fixed;inset:auto 0 20px 0;
  display:flex;align-items:flex-end;justify-content:center;
  z-index:1000;visibility:hidden;opacity:0;transition:opacity 0.3s ease;
  pointer-events:none;
}
.questionLightbox.active{visibility:visible;opacity:1;}
.questionCard{
  pointer-events:all;
  background:linear-gradient(180deg,#fff,#ffeef8);
  border-radius:16px;padding:20px 28px;text-align:center;
  max-width:320px;width:90%;
  box-shadow:0 8px 24px rgba(0,0,0,0.3);
  position:relative;
}
.questionCard h3{margin-bottom:15px;color:#ff6b93;font-weight:600;}
.questionCard button{
  padding:10px 22px;margin:5px;border-radius:12px;font-weight:600;
  border:none;cursor:pointer;
  position:relative;
}
#yesBtn{background:linear-gradient(90deg,var(--accent),#ff9db2); color:white;}
#noBtn{background:#eee;color:#555;}

/* YES popup */
.yesPopup{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,0.7);
  z-index:2000; visibility:hidden; opacity:0;
  transition:opacity 0.3s ease;
}
.yesPopup.active{visibility:visible; opacity:1;}
.yesCard{
  background:linear-gradient(180deg,#fff,#ffeef8);
  padding:20px 28px; border-radius:16px;
  max-width:320px; width:90%; text-align:center;
  box-shadow:0 8px 24px rgba(0,0,0,0.3);
}
.yesCard h3{color:#ff6b93; margin-bottom:10px;}
.yesCard p{color:#444; margin-bottom:15px;}
.yesCard button{
  padding:10px 20px; border:none; border-radius:12px;
  background:linear-gradient(90deg,var(--accent),#ff9db2);
  color:white; font-weight:600; cursor:pointer;
}

/* mobile tweaks */
@media (max-width:480px){
  body{font-size:14px;}
  h1{font-size:1.3rem;}
  .photoCard img{max-height:200px;}
  .thumbs img{width:40px;height:40px;}
  .open-btn{padding:10px 16px;}
}
</style>
</head>
<body>
<div class="hearts" id="hearts"></div>

<main class="card">
  <h1>For my love ‚ù§Ô∏è</h1>
  <p class="lead">I made this just for you ‚Äî click the button when you're ready. There's a small surprise inside I keep thinking about.</p>
  <button class="open-btn" id="openBtn">Open for me</button>

  <div class="messageBox" id="messageBox">
    <div class="typed" id="typedText"></div>

    <div class="photoSection">
      <h3>Our little memories üíï</h3>
      <div class="photoCard" id="photoCard">
        <img id="mainPhoto" src="" alt="Memory photo">
      </div>
      <div class="thumbs" id="thumbs"></div>
    </div>

    <div class="small">Tip: click any photo to see it larger üíû</div>
  </div>
</main>

<div class="lightbox" id="lightbox">
  <img src="" alt="enlarged photo" />
</div>

<div class="questionLightbox" id="questionLightbox">
  <div class="questionCard">
    <h3>Will you be mine forever? üíñ</h3>
    <div>
      <button id="yesBtn">Yes üíï</button>
      <button id="noBtn">No üò¢</button>
    </div>
  </div>
</div>

<div class="yesPopup" id="yesPopup">
  <div class="yesCard">
    <h3>Yay! üíñ You said YES!</h3>
    <p>I'm so happy! Let's make more happy memories my love. üíï</p>
    <button id="closeYes">Close</button>
  </div>
</div>

<audio id="bgAudio" src="https://www.dropbox.com/scl/fi/czsl4s53h5f1nolhoa14g/New-West-Those-Eyes-Home-Session.mp3?rlkey=ljf57yx0j2fkwnha07mm099na&dl=1"></audio>

<script>
// message & photos
const messageLines = [
  "My love,",
  "Even though we're apart, every small thing I do feels like I'm thinking of you. You are the warmth that makes my days brighter and the calm that eases my nights. I miss the sound of your laughter and the way your hand fits in mine.",
  "I promise: soon we'll make new memories together, but today this little page is for you.",
  "Always yours,",
  "I hope this little things are made you happy and help you to calm and let your stress out. I want you to know that I'm so in love with you.",
  "I just want to make days faster so that I can be with you right by your side.",
  "I just want you to know that I really love you.",
  "‚Äî Love,  ‚ù§Ô∏è"
	"RL"
];

const imageList = [
  "https://i.postimg.cc/fRkc4YwK/3-CB21-AA8-D836-4-B0-C-BD94-B6-F9192-DB48-A.jpg",
  "https://i.postimg.cc/rwdrZcJZ/6-BE0-CC7-B-20-F7-4-E5-D-8-E65-F077-E32-D80-BD.jpg",
  "https://i.postimg.cc/BbQ8TGbD/39-B58-DD8-D196-40-DB-B73-C-3-CCB16-BFDD55.jpg",
  "https://i.postimg.cc/hPvzhgHn/C8-DB979-F-1742-466-F-BB1-D-A3-FB05-B7717-D.jpg"
];

const openBtn = document.getElementById('openBtn');
const messageBox = document.getElementById('messageBox');
const typedText = document.getElementById('typedText');
const mainPhoto = document.getElementById('mainPhoto');
const thumbs = document.getElementById('thumbs');
const lightbox = document.getElementById('lightbox');
const lightboxImg = lightbox.querySelector('img');
const bgAudio = document.getElementById('bgAudio');
const questionLightbox = document.getElementById('questionLightbox');
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const hearts = document.getElementById('hearts');
const yesPopup = document.getElementById('yesPopup');
const closeYes = document.getElementById('closeYes');

let typingFinished=false;
let questionShown=false;
let currentPhotoIndex=0;

/* floating hearts */
function spawnHearts(n=10){
  for(let i=0;i<n;i++){
    const h=document.createElement('div'); h.className='heart';
    h.style.left=Math.random()*100+'%';
    h.style.bottom=-10-Math.random()*40+'vh';
    const size=8+Math.random()*36; h.style.width=size+'px'; h.style.height=size+'px';
    h.style.animationDuration=7+Math.random()*8+'s';
    h.style.opacity=0.7+Math.random()*0.3;
    hearts.appendChild(h);
    setTimeout(()=>h.remove(),(7+Math.random()*8)*1000);
  }
}
setInterval(()=>spawnHearts(6),2200); spawnHearts(18);

/* thumbnails */
function loadPhotos(){
  thumbs.innerHTML='';
  imageList.forEach((src,i)=>{
    const img=document.createElement('img'); img.src=src; img.dataset.full=src;
    if(i===0){ img.classList.add('active'); mainPhoto.src=src; }
    thumbs.appendChild(img);
  });
  thumbs.addEventListener('click',e=>{
    if(e.target.tagName==="IMG"){
      document.querySelectorAll('#thumbs img').forEach(x=>x.classList.remove('active'));
      e.target.classList.add('active');
      fadePhotoTo(e.target.dataset.full);
      currentPhotoIndex=imageList.indexOf(e.target.dataset.full);
    }
  });
}

/* fade + zoom */
function fadePhotoTo(src){
  mainPhoto.style.transition="opacity 0.8s ease, transform 0.8s ease";
  mainPhoto.style.opacity=0;
  mainPhoto.style.transform="scale(1.1)";
  setTimeout(()=>{
    mainPhoto.src=src;
    mainPhoto.style.opacity=1;
    mainPhoto.style.transform="scale(1)";
  },400);
}

/* auto slider */
function autoChangePhoto(){
  currentPhotoIndex=(currentPhotoIndex+1)%imageList.length;
  fadePhotoTo(imageList[currentPhotoIndex]);
  document.querySelectorAll('#thumbs img').forEach((img,i)=>{
    img.classList.toggle('active', i===currentPhotoIndex);
  });
}
function startAutoPhotoSlider(){ setInterval(autoChangePhoto,3000); }

/* lightbox */
function enableLightbox(){
  mainPhoto.addEventListener('click',()=>{
    lightboxImg.src=mainPhoto.src;
    lightbox.classList.add('active');
  });
  lightbox.addEventListener('click',()=>{
    lightbox.classList.remove('active');
    if(typingFinished && !questionShown){
      questionLightbox.classList.add('active'); questionShown=true;
    }
  });
}

/* typing animation */
function revealMessage(lines){
  typedText.style.opacity=1;
  let i=0,j=0,out="";
  (function step(){
    if(i>=lines.length){
      typingFinished=true;
      if(!questionShown){
        questionLightbox.classList.add('active'); questionShown=true;
      }
      return;
    }
    if(j<=lines[i].length){
      typedText.innerHTML=out+lines[i].slice(0,j)+(j%2?"|":"");
      j++; setTimeout(step,30);
    }else{
      out+=lines[i++]+"\n\n"; j=0; setTimeout(step,250);
    }
  })();
}

/* confetti */
function showBurst(){
  for(let k=0;k<30;k++){
    const c=document.createElement('div');
    c.style.position='absolute';
    c.style.width='8px'; c.style.height='8px';
    c.style.background='linear-gradient(180deg,#ff9db2,#ff6b93)';
    c.style.borderRadius='50%';
    c.style.left=Math.random()*100+'%';
    c.style.top=Math.random()*100+'%';
    c.style.opacity='0.9';
    c.style.transform='translateY(0) rotate('+Math.random()*360+'deg)';
    c.style.transition='all 1s ease-out';
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),1200);
  }
}

/* NO button dodge */
function dodgeNoButton(){
  const card=noBtn.closest('.questionCard');
  const cardRect=card.getBoundingClientRect();
  const btnRect=noBtn.getBoundingClientRect();
  const padding=10;
  const maxX=cardRect.width-btnRect.width-padding;
  const maxY=cardRect.height-btnRect.height-padding;
  const newX=Math.random()*maxX;
  const newY=Math.random()*maxY;
  noBtn.style.position='absolute';
  noBtn.style.left=`${newX}px`;
  noBtn.style.top=`${newY}px`;
}
noBtn.addEventListener('mouseenter',dodgeNoButton);
noBtn.addEventListener('touchstart',dodgeNoButton,{passive:true});

/* open button */
openBtn.addEventListener('click',()=>{
  openBtn.style.display="none";
  messageBox.style.display="block";
  revealMessage(messageLines);
  loadPhotos();
  enableLightbox();
  startAutoPhotoSlider();
  bgAudio.play().catch(()=>console.log("Audio blocked until user gesture"));
});

/* question buttons */
yesBtn.addEventListener('click',()=>{
  questionLightbox.classList.remove('active');
  spawnHearts(20);
  showBurst();
  yesPopup.classList.add('active');
});
closeYes.addEventListener('click',()=>{ yesPopup.classList.remove('active'); });

</script>
</body>
</html>
